language: node_js
node_js:
- '0.10'
before_install:
- sudo apt-add-repository --yes ppa:mapnik/v2.2.0
- sudo apt-get update
- sudo apt-get install gdal-bin protobuf-compiler libprotobuf-dev libmapnik libmapnik-dev s3cmd
- npm install topojson
install:
- npm install
- ./node_modules/carmen-travis/make_s3cfg
script:
- ./node_modules/carmen-travis/watch
cache:
  directories:
  - node_modules/carmen-travis/node_modules
source_key: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBd1I5Rng2MXVGc3c1YVhOOWJTVmRuUmJENERIa1ZKbUVoYmtzd096VEo1MWd6UDRpClNSU3NlZEQ3Tzd4Q2JYbmRRSjR1a0VXdm9tSUljaWozOEZQR2RzSG16MUNmejZid2tYZXR6ZkErSEZ5bGIrUnMKVDJJL29BcVhEaXhQd01pTktkSFdMOVpRS2QrRXkrT2ZMdGNIS0JVNVRKM2RCQ2txSVB4Z3BTUUc2VmVNUGRscQowd21SY1E2VFp1SklRbW10cDBtSEdQVDdSUm1lVVJuTnNqSWhUcHJQVDZmYkcweGU1SkhWR1lGNHlFN1gwNFdBCmxMRjd0WjZ1R2pXa0cxY2xGS3JzdUVzQjd3VG5rS21mcmV2RjU4dkFoK29EWUF6V3dCckVXWWdGTFFPNEIrUnoKYWNYbGRuNVJGRlBkRytnMnJ0TXdpeHVrWmF4bUJXUkZoMDB1OVFJREFRQUJBb0lCQUEyUjRmaFc0bDV0dVRjRQpxM0tJNXB3TUpuVlJiQ2JacHFzeXlNZEJuTkN5eVVOK00vQ0lxRm5pNmxSWE5SKzJLV3JKOHFHbWsrSElHNm5SCjRTSWM4TndWWWQ5OVhjMWNnSmpvSE9sVWtUaXk5ZGozNXZocEFlbC85UDlFODlHckJlaERXMVovSzZEVm1PSXUKdTFleU9rbUJ2RVg2N2JYR0lyU3dweVhUY3p6Z0QzZnpTOUF3NUhiVFVMNXE2cVlKeFJHUkU2Q1NvVGVtS1NUNAp1SlZGT0Jqd0prZXNpYk5QRDJjL0RwaWtVL0xWN01vL0ZMWVRvT3VtckZDeDMzUzd3OGZ3M2lhbXF2aVV6YnA2ClEzQUdkR24wcmV3ZHBkN21mMzRnNkZMcC9xc0dJUHpNeHNhbDlKaHRNZ0JHbDZKUDF6dTEyeTdZVGxMOFJ3aW8KK3RWT2tyMENnWUVBKytSVnI3NkxJam5MQWl5ajZnQVpqWGhDRTZDUUpGWkNjbFBEeDVDQ09FcFZ2aXhMU2JSLwpXaWcxcUJib1owYXdIamZWd3lIUWpiYzBaZkVTQzBtYjJJMHBqRWU1U2M3UlI5K1p2SVFsVi9ubUhHQWNRWGRlCjZDTmgvSXhQYmF5bFJRS2FEODFSK2NQOFdoQkVDL3VMa1ZpNGtDSEdnaUtxTTlVcHhURFJYMnNDZ1lFQXhFV1IKK2JSeW5ORVpPdmJHTE5jcUdGT1pzOEQ3Z1VBbWRRZWd3NWE0QVpSWmtYUWxndWFRWWtlWGdEOXJaUTAzeWpoMgpYeWdJZ3RwYjFIUXRiYVYzNUtVTFMzUHFMODBNaG94dGMvYXhPWHZERWVlc3ZKamlnQUZnVHhENFBXTGNhMmlYCkwxVFBXd2E5cFl3NmhERll1Vi9UM1Q3VlVhcFIrQmsyZUtaMUl4OENnWUF5MklPSFp6SVVwWS9hRDRMQzRHUkkKRDBkZlNPRHZ4TTNDNEMrNzMrcTVUQ0FFdEZJNlBZb2JlOVJnNnNiYzJnTUJCb3BLeWsrYjI2aGpENGR4NmRqZwpuSllQY0FieDVDS1FuSTBlNVpuWUtXU093OFBRWHpVMExMaEJ6MXpWS2ExdXdiaXhpZU9MUkVsek1LZGJ0OW9UCmE5Sk5uZFBCUHhnV1FHZ2ZHdHlZb3dLQmdRQ1YvdWtKWVZzNTl4OEdEZlB6N3RmUDBZd2tjTGFFMTZiTVIzRVkKS01ZbEJ0L1FwbWZJZXpZYXRjWFZrQ0llRHhUMDZXT2xZeTNsK3NTMVA3ZzhGSG5rOWpFRWoraUljWGRDR0czSgpjdDJNSmNZMWw4MU9NTFRneUt4Mm9HeG1WWGhJYVowbzRmSzZDUlBFUWIreXFSZTZTNzdaVlp5bkZiZ2hGL3VtCkJ1aDhWd0tCZ1FDZ3hOQVdlM082OEhyMWthRGZNVGZkeWsrajFSZ20wb1BQSCtnWDl1OFBQNjZ1QU9xUjYxVzcKTS9BSHk2VnVrdktjRWZCVnI5aWwvZkVXSDVwT0d0aHZ6eEZUU1dncVBqS2JSeVRpc3oyYzVvNi82V2NJMkw5cApkc0FydHAzazJ3REJ0cDlwdThnSm5QNVBUT2pWczhyemNFTms5Titoelk1Y3dybHFvcHZtYlE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
env:
  global:
  - secure: XIS4CgbzDg8yhvd0kTSZSMsURmV1t8JEgqPlC07VenfZOfTluS5aqEU5hRxwGsRbQ18Ij42RoDb0pjwUQWzV4KJzNo0zJ0m1md1Zo2kCubW/J3FkxJtEZ5Q4DMN9FwDtvap4xwqLKjRJr+Twk9siSQY7TnZFrffhkCh38t1gkM0=
  - secure: Jb6oDxnBUu8nNwkGMGzEg4AEjLRQwEkTMaTHgk8vSzGQ0eruO8zs84t7lfsZV+oFQcho5EAoieYHjTIPpBCG8IaD5y1L1Gx/Y0+S04h9sBzmlCx+Av/70RXTJVNI6SfzZmoVV9+eT3cbFa7kWALTuc5WPRgKN/2pX2mrpHIqqFI=
